<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/fragments :: head(title='Gestión de Productos')"></head>
<body id="body-pd">
    <header class="header" id="header">
        <div class="header_toggle"> <i class='bx bx-menu' id="header-toggle"></i> </div>
    </header>
    <div class="l-navbar" id="nav-bar">
        <nav class="nav">
            <div>
                <a href="#" class="nav_logo"> <i class='bx bx-layer nav_logo-icon'></i> <span class="nav_logo-name">Ecomerce Zapatillas</span> </a>
                <div class="nav_list">
                    <a th:href="@{/web/usuarios}" class="nav_link"> <i class='bx bx-user nav_icon'></i> <span class="nav_name">Usuarios</span> </a>
                    <a th:href="@{/web/productos}" class="nav_link active"> <i class='bx bx-grid-alt nav_icon'></i> <span class="nav_name">Productos</span> </a>
                    <a th:href="@{/web/ventas}" class="nav_link"> <i class='bx bx-message-square-detail nav_icon'></i> <span class="nav_name">Ventas</span> </a>
                    <a th:href="@{/web/detalleVentas}" class="nav_link"> <i class='bx bx-bookmark nav_icon'></i> <span class="nav_name">Detalles de Ventas</span> </a>
                </div>
            </div>
            <a th:href="@{/web/logout}" class="nav_link"> <i class='bx bx-log-out nav_icon'></i> <span class="nav_name">SignOut</span> </a>
        </nav>
    </div>
    <div class="height-100 w-75 mx-auto">
        <div class="d-flex gap-2">
            <a th:href="@{/web/productosRegister}" class="btn btn-secondary btn-sm text-white">Crear Productos</a>
        </div>
        <div class="text-center mb-4">
            <h3 class="text-primary">Mantenimiento de Productos</h3>
        </div>
        <table class="table table-striped table-hover shadow-sm rounded">
            <thead class="table-dark">
            <tr>
                <th>Código</th>
                <th>Nombre</th>
                <th>Descripción</th>
                <th>Precio</th>
                <th>Mantenimiento</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${productos}">
                <td><a th:href="@{/web/productos/{id}(id=${item.id()})}"><p th:text="${item.id()}"></p></a>
                </td>
                <td th:text="${item.nombre()}"></td>
                <td th:text="${item.descripcion()}"></td>
                <td th:text="${item.precio()}"></td>
                <td>
                    <div class="d-flex gap-2">
                        <a th:href="@{/web/productosUpdate/{id}(id=${item.id()})}"
                           class="btn btn-secondary btn-sm text-white">Editar</a>
                        <form th:action="@{/web/deleteProducto/{id}(id=${item.id})}" method="post"
                              onsubmit="confirmDeletion(event)">
                            <button type="submit" class="btn btn-danger btn-sm text-white">Eliminar</button>
                        </form>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</body>
</html>